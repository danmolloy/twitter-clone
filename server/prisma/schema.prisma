generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  name   String
  password String @default("password")
  handle String @id 
  blurb String @default("Click edit profile!")
  joinDate String @default("21 Sept 2021") 
  bgPic String @default("bgPic.jpg")
  profilePic String @default("profilePic.jpg")
  follows User[] @relation("Follows")
  followers User[] @relation("Follows")
  writtenPosts Post[] @relation("WrittenPosts")
  likedPosts Post[] @relation("LikedPosts")
  retweets Post[] @relation("RetweetedPosts")
  bookmarks Post [] @relation("Bookmarks")
  authoredLists List[] @relation("ListAuthor")
  listsFollowed List[] @relation("ListFollowers")
  listMember List[] @relation("ListMember")
  }

model Post {
  id String @id @default(uuid())
  content String @default("Hello world")
  postDate String @default("21 Sept 2021")
  author User @relation("WrittenPosts", fields: [authorHandle], references: [handle])
  authorHandle String
  likes User[] @relation("LikedPosts", references: [handle])
  retweets User[] @relation("RetweetedPosts",references: [handle])
  bookmarks User[] @relation("Bookmarks", references: [handle])
}

model List {
  id String @id @default(uuid())
  name String @default("My List")
  picture String @default("bgPic.jpg")
  description String @default("My list of musicians")
  private Boolean @default(true)
  authorHandle String
  author User @relation("ListAuthor", fields: [authorHandle], references: [handle])
  members User[] @relation("ListMember")
  followers User[] @relation("ListFollowers")
}